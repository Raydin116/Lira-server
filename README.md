# Lira Proxy Server

هذا الخادم يعمل كوسيط بين تطبيق Lira والواجهات البرمجية لأسعار الصرف. يساعد هذا الخادم على تجنب مشاكل CORS ويعمل على تحسين أداء التطبيق من خلال التخزين المؤقت للبيانات.

## متطلبات النظام

- Node.js (الإصدار 14 أو أحدث)
- npm (مدير حزم Node.js)

## تثبيت وتشغيل الخادم

1. قم بتثبيت الاعتمادات:
```
cd server
npm install
```

2. تشغيل الخادم في وضع التطوير:
```
npm run dev
```

3. تشغيل الخادم في وضع الإنتاج:
```
npm start
```

## نقاط النهاية API

- `GET /api/rates` - الحصول على أحدث أسعار الصرف
  - استخدم `?force=true` لتجاوز التخزين المؤقت وتحديث البيانات

- `GET /api/history/:city` - الحصول على البيانات التاريخية لمدينة معينة
  - القيم المدعومة لـ `:city`: `damascus`, `aleppo`, `idlib`
  - استخدم `?force=true` لتجاوز التخزين المؤقت وتحديث البيانات

- `GET /api/health` - للتحقق من حالة الخادم

- `POST /api/cache/clear` - مسح التخزين المؤقت (للاستخدام الإداري) 